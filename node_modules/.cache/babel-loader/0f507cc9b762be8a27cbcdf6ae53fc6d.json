{"remainingRequest":"C:\\Users\\1\\Desktop\\tensorflowjs\\face-api-demo-vue-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\1\\Desktop\\tensorflowjs\\face-api-demo-vue-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\1\\Desktop\\tensorflowjs\\face-api-demo-vue-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\1\\Desktop\\tensorflowjs\\face-api-demo-vue-master\\src\\views\\FaceComparison.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\1\\Desktop\\tensorflowjs\\face-api-demo-vue-master\\src\\views\\FaceComparison.vue","mtime":1574153528647},{"path":"C:\\Users\\1\\Desktop\\tensorflowjs\\face-api-demo-vue-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\1\\Desktop\\tensorflowjs\\face-api-demo-vue-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\1\\Desktop\\tensorflowjs\\face-api-demo-vue-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\1\\Desktop\\tensorflowjs\\face-api-demo-vue-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\1\\\\Desktop\\\\tensorflowjs\\\\face-api-demo-vue-master\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport * as faceapi from \"face-api.js\";\nimport * as tf from \"@tensorflow/tfjs\";\nimport * as bbt from \"../utils/bbt.js\";\nimport * as imageSelectionControls from \"../utils/imageSelectionControls\";\nimport * as faceDetectionControls from \"../utils/faceDetectionControls\";\nimport * as commons from \"../utils/commons\";\nimport * as faceComparison from \"../utils/faceComparison\";\nimport * as cnntfjs from \"../utils/cnntfjs\";\nimport * as mtcnnLoad from \"../utils/mtcnnLoad\";\nimport TS1 from \"../assets/images/bernadette/bernadette1.png\";\nimport TS2 from \"../assets/images/howard/howard1.png\";\nimport jsonModel from \"../assets/model/minist-2019_11_19 \\u4E0A\\u53489_57_57.json\";\nexport default {\n  name: \"FaceComparison\",\n  data: function data() {\n    return {\n      // 差值\n      threshold: 0.6,\n      descriptors: {\n        desc1: null,\n        desc2: null\n      },\n      faceMatcher: null\n    };\n  },\n  mounted: function mounted() {\n    // 同步执行避免报错\n    this.init();\n  },\n  methods: {\n    // 初始加载数据模型\n    init: function () {\n      var _init = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var model;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return cnntfjs.train();\n\n              case 2:\n                console.log(jsonModel);\n                _context.next = 5;\n                return mtcnnLoad.loadLayersModel(jsonModel);\n\n              case 5:\n                model = _context.sent;\n                model.summary(); //model.loadWeights(\"https://storage.googleapis.com/tfjs-models/savedmodel/ssd_mobilenet_v1/weights_manifest.json\")\n\n                model.predict(tf.zeros([1, 224, 224, 3])).print();\n                imageSelectionControls.initImageSelectionControls();\n                faceDetectionControls.initFaceDetectionControls(); // await faceapi.loadFaceDetectionModel(\"/models\")\n                // await faceapi.loadFaceLandmarkModel(\"/models\")\n                // await faceapi.loadFaceRecognitionModel(\"/models\")\n\n                _context.next = 12;\n                return faceDetectionControls.changeFaceDetector('ssd_mobilenetv1');\n\n              case 12:\n                _context.next = 14;\n                return faceapi.loadFaceRecognitionModel(\"/models\");\n\n              case 14:\n                _context.next = 16;\n                return faceapi.loadFaceLandmarkModel(\"/models\");\n\n              case 16:\n                _context.next = 18;\n                return this.run();\n\n              case 18:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function init() {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }(),\n    updateResults: function () {\n      var _updateResults = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var inputImgEl, options, results;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (faceDetectionControls.isFaceDetectionModelLoaded()) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                console.log(\"222\");\n                return _context2.abrupt(\"return\");\n\n              case 3:\n                inputImgEl = $('#inputImg').get(0);\n                console.log(inputImgEl);\n                options = faceDetectionControls.getFaceDetectorOptions(); //提取所有面孔并计算结果\n\n                _context2.next = 8;\n                return faceapi.detectAllFaces(inputImgEl, options) //class DetectAllFacesTask\n                .withFaceLandmarks() //class DetectAllFaceLandmarksTask\n                .withFaceDescriptors();\n\n              case 8:\n                results = _context2.sent;\n                //class ComputeAllFaceDescriptorsTask\n                console.log(results);\n                this.drawFaceRecognitionResults(results);\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function updateResults() {\n        return _updateResults.apply(this, arguments);\n      }\n\n      return updateResults;\n    }(),\n    drawFaceRecognitionResults: function drawFaceRecognitionResults(results) {\n      var _this = this;\n\n      var canvas = $('#overlay').get(0);\n      var inputImgEl = $('#inputImg').get(0);\n      console.log(\"1111\");\n      console.log(canvas);\n      faceapi.matchDimensions(canvas, inputImgEl); // resize detection and landmarks in case displayed image is smaller than\n      // original size\n\n      var resizedResults = faceapi.resizeResults(results, inputImgEl); //\n\n      resizedResults.forEach(function (_ref) {\n        var detection = _ref.detection,\n            descriptor = _ref.descriptor;\n\n        var label = _this.faceMatcher.findBestMatch(descriptor).toString(); //找到最distance最小的对应的label\n\n\n        var options = {\n          label: label\n        };\n        var drawBox = new faceapi.draw.DrawBox(detection.box, options);\n        drawBox.draw(canvas);\n      });\n    },\n    // 运行对比\n    run: function () {\n      var _run = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        var input1, input2, distance;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                console.log(\"对比识别\"); // 图片一\n\n                _context3.next = 3;\n                return faceapi.fetchImage(TS1);\n\n              case 3:\n                input1 = _context3.sent;\n                _context3.next = 6;\n                return faceapi.computeFaceDescriptor(input1);\n\n              case 6:\n                this.descriptors[\"desc1\"] = _context3.sent;\n                _context3.next = 9;\n                return faceapi.fetchImage(TS2);\n\n              case 9:\n                input2 = _context3.sent;\n                _context3.next = 12;\n                return faceapi.computeFaceDescriptor(input2);\n\n              case 12:\n                this.descriptors[\"desc2\"] = _context3.sent;\n                // 图片相识度\n                distance = faceapi.round(faceapi.euclideanDistance(this.descriptors.desc1, this.descriptors.desc2)); // 判断\n\n                console.log(\"值越小越相似:\", distance);\n\n                if (distance > this.threshold) {\n                  console.log(distance, \"相似度<0.6 不比配\");\n                }\n\n                _context3.next = 18;\n                return bbt.createBbtFaceMatcher(1);\n\n              case 18:\n                this.faceMatcher = _context3.sent;\n                this.updateResults();\n\n              case 20:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function run() {\n        return _run.apply(this, arguments);\n      }\n\n      return run;\n    }()\n  }\n};",{"version":3,"sources":["FaceComparison.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"FaceComparison\" >\n    <br>\n    <!-- <img id=\"face1\" src=\"https://dwz.cn/kXUrwcGG\">\n    <img id=\"face2\" src=\"https://dwz.cn/Fi5mUbYK\">-->\n    <div style=\"position: relative\" class=\"margin\">\n      <img class=\"inputImg\" id=\"inputImg\" src=\"\" style=\"max-width: 800px;\" />\n      <canvas class=\"overlay\" id=\"overlay\" style=\"max-width: 800px;\"/>\n    </div>\n     <!-- face_detector_selection_control -->\n      <div id=\"face_detector_selection_control\" class=\"row input-field\" style=\"margin-right: 20px;\">\n        <select id=\"selectFaceDetector\">\n          <option value=\"ssd_mobilenetv1\">SSD Mobilenet V1</option>\n          <option value=\"tiny_face_detector\">Tiny Face Detector</option>\n          <option value=\"mtcnn\">MTCNN</option>\n        </select>\n        <label>Select Face Detector</label>\n      </div>\n      <!-- face_detector_selection_control -->\n\n    <!-- image_selection_control -->\n      <div id=\"image_selection_control\"></div>\n        <div id=\"selectList\"></div>\n        <div class=\"row\">\n          <label for=\"imgUrlInput\">Get image from URL:</label>\n          <input id=\"imgUrlInput\" type=\"text\" class=\"bold\">\n        </div>\n        <button\n          class=\"waves-effect waves-light btn\"\n          onclick=\"loadImageFromUrl()\"\n        >\n          Ok\n        </button>\n      <div id=\"image_selection_control\"></div>\n      <!-- image_selection_control -->\n\n      <!-- ssd_mobilenetv1_controls -->\n    <span id=\"ssd_mobilenetv1_controls\">\n      <div class=\"row side-by-side\">\n        <div class=\"row\">\n          <label for=\"minConfidence\">Min Confidence:</label>\n          <input disabled value=\"0.5\" id=\"minConfidence\" type=\"text\" class=\"bold\">\n        </div>\n        <button\n          class=\"waves-effect waves-light btn\"\n          onclick=\"onDecreaseMinConfidence()\"\n        >\n          <i class=\"material-icons left\">-</i>\n        </button>\n        <button\n          class=\"waves-effect waves-light btn\"\n          onclick=\"onIncreaseMinConfidence()\"\n        >\n          <i class=\"material-icons left\">+</i>\n        </button>\n      </div>\n    </span>\n    <!-- ssd_mobilenetv1_controls -->\n  </div>\n</template>\n\n<style> \n.inputImg{position:absolute; left:80px;  z-index: 0; width:400px; height:400px}\n.overlay{position:absolute; left:80px;  z-index: 1; width:400px; height:400px}\n.div-relative{position:relative; color:#000; border:1px solid #000; width:500px; height:400px} \n.div-a{ position:absolute; left:30px; top:30px; background:#F00; width:200px; height:100px} \n/* css注释说明： 背景为红色 */ \n.div-b{ position:absolute; left:50px; top:60px; background:#FF0; width:400px; height:200px} \n/* 背景为黄色 */ \n.div-c{ position:absolute; left:80px; top:80px; background:#00F; width:300px; height:300px} \n/* DIV背景颜色为蓝色 */ \n</style>\n\n<script>\nimport * as faceapi from \"face-api.js\";\nimport * as tf from \"@tensorflow/tfjs\"\nimport * as bbt from \"../utils/bbt.js\"\nimport * as imageSelectionControls from \"../utils/imageSelectionControls\"\nimport * as faceDetectionControls from \"../utils/faceDetectionControls\"\nimport * as commons from \"../utils/commons\"\nimport * as faceComparison from \"../utils/faceComparison\"\nimport * as cnntfjs from \"../utils/cnntfjs\"\nimport * as mtcnnLoad from \"../utils/mtcnnLoad\"\nimport TS1 from \"../assets/images/bernadette/bernadette1.png\"\nimport TS2 from \"../assets/images/howard/howard1.png\"\nimport jsonModel from \"../assets/model/minist-2019_11_19 上午9_57_57.json\"\n\nexport default {\n  name: \"FaceComparison\",\n  data() {\n    return {\n      // 差值\n      threshold: 0.6,\n      descriptors: {\n        desc1: null,\n        desc2: null\n      },\n      faceMatcher: null\n    };\n  },\n  mounted() {\n    // 同步执行避免报错\n    this.init();\n  },\n  methods: {\n    // 初始加载数据模型\n    async init() {\n      await cnntfjs.train()\n      console.log(jsonModel)\n      let model = await mtcnnLoad.loadLayersModel(jsonModel)\n      model.summary()\n      //model.loadWeights(\"https://storage.googleapis.com/tfjs-models/savedmodel/ssd_mobilenet_v1/weights_manifest.json\")\n      model.predict(tf.zeros([1, 224, 224, 3])).print()\n      imageSelectionControls.initImageSelectionControls()\n      faceDetectionControls.initFaceDetectionControls()\n      // await faceapi.loadFaceDetectionModel(\"/models\")\n      // await faceapi.loadFaceLandmarkModel(\"/models\")\n      // await faceapi.loadFaceRecognitionModel(\"/models\")\n      await faceDetectionControls.changeFaceDetector('ssd_mobilenetv1')\n      await faceapi.loadFaceRecognitionModel(\"/models\")\n      await faceapi.loadFaceLandmarkModel(\"/models\")\n      await this.run()\n    },\n    async updateResults() {\n      if (!faceDetectionControls.isFaceDetectionModelLoaded()) {\n        console.log(\"222\")\n        return\n      }\n\n      const inputImgEl = $('#inputImg').get(0)\n      console.log(inputImgEl)\n      const options = faceDetectionControls.getFaceDetectorOptions()\n      \n      //提取所有面孔并计算结果\n      const results = await faceapi\n        .detectAllFaces(inputImgEl, options)//class DetectAllFacesTask\n        .withFaceLandmarks()//class DetectAllFaceLandmarksTask\n        .withFaceDescriptors()//class ComputeAllFaceDescriptorsTask\n      console.log(results)\n      this.drawFaceRecognitionResults(results)\n    },\n\n    drawFaceRecognitionResults(results) {\n      const canvas = $('#overlay').get(0)\n      const inputImgEl = $('#inputImg').get(0)\n      console.log(\"1111\")\n      console.log(canvas)\n      faceapi.matchDimensions(canvas, inputImgEl)\n      // resize detection and landmarks in case displayed image is smaller than\n      // original size\n      const resizedResults = faceapi.resizeResults(results, inputImgEl)\n\n      //\n      resizedResults.forEach(({ detection, descriptor }) => {\n        const label = this.faceMatcher.findBestMatch(descriptor).toString()//找到最distance最小的对应的label\n        const options = { label }\n        const drawBox = new faceapi.draw.DrawBox(detection.box, options)\n        drawBox.draw(canvas)\n      })\n    },\n    // 运行对比\n    async run() {\n      console.log(\"对比识别\");\n      // 图片一\n      const input1 = await faceapi.fetchImage(TS1);\n      this.descriptors[`desc1`] = await faceapi.computeFaceDescriptor(input1);\n      // 图片二\n      const input2 = await faceapi.fetchImage(TS2);\n      this.descriptors[`desc2`] = await faceapi.computeFaceDescriptor(input2);\n      // 图片相识度\n      const distance = faceapi.round(\n        faceapi.euclideanDistance(\n          this.descriptors.desc1,\n          this.descriptors.desc2\n        )\n      );\n      // 判断\n      console.log(\"值越小越相似:\", distance);\n      if (distance > this.threshold) {\n        console.log(distance, \"相似度<0.6 不比配\");\n      }\n      this.faceMatcher = await bbt.createBbtFaceMatcher(1)\n      this.updateResults()\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n"],"sourceRoot":"src/views"}]}