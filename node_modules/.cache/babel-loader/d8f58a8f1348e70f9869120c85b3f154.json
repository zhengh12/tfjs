{"remainingRequest":"C:\\Users\\1\\Desktop\\tensorflowjs\\face-api-demo-vue-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\1\\Desktop\\tensorflowjs\\face-api-demo-vue-master\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\1\\Desktop\\tensorflowjs\\face-api-demo-vue-master\\src\\utils\\faceDetectionControls.js","dependencies":[{"path":"C:\\Users\\1\\Desktop\\tensorflowjs\\face-api-demo-vue-master\\src\\utils\\faceDetectionControls.js","mtime":1573799879988},{"path":"C:\\Users\\1\\Desktop\\tensorflowjs\\face-api-demo-vue-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\1\\Desktop\\tensorflowjs\\face-api-demo-vue-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\1\\Desktop\\tensorflowjs\\face-api-demo-vue-master\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\1\\\\Desktop\\\\tensorflowjs\\\\face-api-demo-vue-master\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport * as faceapi from \"face-api.js\";\nvar SSD_MOBILENETV1 = 'ssd_mobilenetv1';\nvar TINY_FACE_DETECTOR = 'tiny_face_detector';\nvar MTCNN = 'mtcnn';\nvar selectedFaceDetector = SSD_MOBILENETV1; // ssd_mobilenetv1 options\n\nvar minConfidence = 0.5; // tiny_face_detector options\n\nvar inputSize = 512;\nvar scoreThreshold = 0.5; //mtcnn options\n\nvar minFaceSize = 20;\n\nfunction getFaceDetectorOptions() {\n  return selectedFaceDetector === SSD_MOBILENETV1 ? new faceapi.SsdMobilenetv1Options({\n    minConfidence: minConfidence\n  }) : selectedFaceDetector === TINY_FACE_DETECTOR ? new faceapi.TinyFaceDetectorOptions({\n    inputSize: inputSize,\n    scoreThreshold: scoreThreshold\n  }) : new faceapi.MtcnnOptions({\n    minFaceSize: minFaceSize\n  });\n}\n\nfunction onIncreaseMinConfidence() {\n  minConfidence = Math.min(faceapi.round(minConfidence + 0.1), 1.0);\n  $('#minConfidence').val(minConfidence);\n  updateResults();\n}\n\nfunction onDecreaseMinConfidence() {\n  minConfidence = Math.max(faceapi.round(minConfidence - 0.1), 0.1);\n  $('#minConfidence').val(minConfidence);\n  updateResults();\n}\n\nfunction onInputSizeChanged(e) {\n  changeInputSize(e.target.value);\n  updateResults();\n}\n\nfunction changeInputSize(size) {\n  inputSize = parseInt(size);\n  var inputSizeSelect = $('#inputSize');\n  inputSizeSelect.val(inputSize);\n  inputSizeSelect.material_select();\n}\n\nfunction onIncreaseScoreThreshold() {\n  scoreThreshold = Math.min(faceapi.round(scoreThreshold + 0.1), 1.0);\n  $('#scoreThreshold').val(scoreThreshold);\n  updateResults();\n}\n\nfunction onDecreaseScoreThreshold() {\n  scoreThreshold = Math.max(faceapi.round(scoreThreshold - 0.1), 0.1);\n  $('#scoreThreshold').val(scoreThreshold);\n  updateResults();\n}\n\nfunction onIncreaseMinFaceSize() {\n  minFaceSize = Math.min(faceapi.round(minFaceSize + 20), 300);\n  $('#minFaceSize').val(minFaceSize);\n}\n\nfunction onDecreaseMinFaceSize() {\n  minFaceSize = Math.max(faceapi.round(minFaceSize - 20), 50);\n  $('#minFaceSize').val(minFaceSize);\n}\n\nfunction getCurrentFaceDetectionNet() {\n  if (selectedFaceDetector === SSD_MOBILENETV1) {\n    return faceapi.nets.ssdMobilenetv1;\n  }\n\n  if (selectedFaceDetector === TINY_FACE_DETECTOR) {\n    return faceapi.nets.tinyFaceDetector;\n  }\n\n  if (selectedFaceDetector === MTCNN) {\n    return faceapi.nets.mtcnn;\n  }\n}\n\nfunction isFaceDetectionModelLoaded() {\n  return !!getCurrentFaceDetectionNet().params;\n}\n\nfunction changeFaceDetector(_x) {\n  return _changeFaceDetector.apply(this, arguments);\n}\n\nfunction _changeFaceDetector() {\n  _changeFaceDetector = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee(detector) {\n    var faceDetectorSelect;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            ['#ssd_mobilenetv1_controls', '#tiny_face_detector_controls', '#mtcnn_controls'].forEach(function (id) {\n              return $(id).hide();\n            });\n            console.log(\"tt\");\n            selectedFaceDetector = detector;\n            faceDetectorSelect = $('#selectFaceDetector');\n            faceDetectorSelect.val(detector);\n            faceDetectorSelect.material_select();\n            $('#loader').show();\n\n            if (isFaceDetectionModelLoaded()) {\n              _context.next = 10;\n              break;\n            }\n\n            _context.next = 10;\n            return getCurrentFaceDetectionNet().load('/models');\n\n          case 10:\n            $(\"#\".concat(detector, \"_controls\")).show();\n            $('#loader').hide();\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _changeFaceDetector.apply(this, arguments);\n}\n\nfunction onSelectedFaceDetectorChanged(_x2) {\n  return _onSelectedFaceDetectorChanged.apply(this, arguments);\n}\n\nfunction _onSelectedFaceDetectorChanged() {\n  _onSelectedFaceDetectorChanged = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee2(e) {\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            selectedFaceDetector = e.target.value;\n            _context2.next = 3;\n            return changeFaceDetector(e.target.value);\n\n          case 3:\n            updateResults();\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _onSelectedFaceDetectorChanged.apply(this, arguments);\n}\n\nfunction initFaceDetectionControls() {\n  var faceDetectorSelect = $('#selectFaceDetector');\n  faceDetectorSelect.val(selectedFaceDetector);\n  faceDetectorSelect.on('change', onSelectedFaceDetectorChanged);\n  faceDetectorSelect.material_select();\n  var inputSizeSelect = $('#inputSize');\n  inputSizeSelect.val(inputSize);\n  inputSizeSelect.on('change', onInputSizeChanged);\n  inputSizeSelect.material_select();\n}\n\nexport { initFaceDetectionControls, isFaceDetectionModelLoaded, getFaceDetectorOptions, changeFaceDetector };",{"version":3,"sources":["C:\\Users\\1\\Desktop\\tensorflowjs\\face-api-demo-vue-master\\src\\utils\\faceDetectionControls.js"],"names":["faceapi","SSD_MOBILENETV1","TINY_FACE_DETECTOR","MTCNN","selectedFaceDetector","minConfidence","inputSize","scoreThreshold","minFaceSize","getFaceDetectorOptions","SsdMobilenetv1Options","TinyFaceDetectorOptions","MtcnnOptions","onIncreaseMinConfidence","Math","min","round","$","val","updateResults","onDecreaseMinConfidence","max","onInputSizeChanged","e","changeInputSize","target","value","size","parseInt","inputSizeSelect","material_select","onIncreaseScoreThreshold","onDecreaseScoreThreshold","onIncreaseMinFaceSize","onDecreaseMinFaceSize","getCurrentFaceDetectionNet","nets","ssdMobilenetv1","tinyFaceDetector","mtcnn","isFaceDetectionModelLoaded","params","changeFaceDetector","detector","forEach","id","hide","console","log","faceDetectorSelect","show","load","onSelectedFaceDetectorChanged","initFaceDetectionControls","on"],"mappings":"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","sourcesContent":["import * as faceapi from \"face-api.js\";\n\nconst SSD_MOBILENETV1 = 'ssd_mobilenetv1'\nconst TINY_FACE_DETECTOR = 'tiny_face_detector'\nconst MTCNN = 'mtcnn'\n\n\nlet selectedFaceDetector = SSD_MOBILENETV1\n\n// ssd_mobilenetv1 options\nlet minConfidence = 0.5\n\n// tiny_face_detector options\nlet inputSize = 512\nlet scoreThreshold = 0.5\n\n//mtcnn options\nlet minFaceSize = 20\n\nfunction getFaceDetectorOptions() {\n  return selectedFaceDetector === SSD_MOBILENETV1\n    ? new faceapi.SsdMobilenetv1Options({ minConfidence })\n    : (\n      selectedFaceDetector === TINY_FACE_DETECTOR\n        ? new faceapi.TinyFaceDetectorOptions({ inputSize, scoreThreshold })\n        : new faceapi.MtcnnOptions({ minFaceSize })\n    )\n}\n\nfunction onIncreaseMinConfidence() {\n  minConfidence = Math.min(faceapi.round(minConfidence + 0.1), 1.0)\n  $('#minConfidence').val(minConfidence)\n  updateResults()\n}\n\nfunction onDecreaseMinConfidence() {\n  minConfidence = Math.max(faceapi.round(minConfidence - 0.1), 0.1)\n  $('#minConfidence').val(minConfidence)\n  updateResults()\n}\n\nfunction onInputSizeChanged(e) {\n  changeInputSize(e.target.value)\n  updateResults()\n}\n\nfunction changeInputSize(size) {\n  inputSize = parseInt(size)\n\n  const inputSizeSelect = $('#inputSize')\n  inputSizeSelect.val(inputSize)\n  inputSizeSelect.material_select()\n}\n\nfunction onIncreaseScoreThreshold() {\n  scoreThreshold = Math.min(faceapi.round(scoreThreshold + 0.1), 1.0)\n  $('#scoreThreshold').val(scoreThreshold)\n  updateResults()\n}\n\nfunction onDecreaseScoreThreshold() {\n  scoreThreshold = Math.max(faceapi.round(scoreThreshold - 0.1), 0.1)\n  $('#scoreThreshold').val(scoreThreshold)\n  updateResults()\n}\n\nfunction onIncreaseMinFaceSize() {\n  minFaceSize = Math.min(faceapi.round(minFaceSize + 20), 300)\n  $('#minFaceSize').val(minFaceSize)\n}\n\nfunction onDecreaseMinFaceSize() {\n  minFaceSize = Math.max(faceapi.round(minFaceSize - 20), 50)\n  $('#minFaceSize').val(minFaceSize)\n}\n\nfunction getCurrentFaceDetectionNet() {\n  if (selectedFaceDetector === SSD_MOBILENETV1) {\n    return faceapi.nets.ssdMobilenetv1\n  }\n  if (selectedFaceDetector === TINY_FACE_DETECTOR) {\n    return faceapi.nets.tinyFaceDetector\n  }\n  if (selectedFaceDetector === MTCNN) {\n    return faceapi.nets.mtcnn\n  }\n}\n\nfunction isFaceDetectionModelLoaded() {\n  return !!getCurrentFaceDetectionNet().params\n}\n\nasync function changeFaceDetector(detector) {\n  ['#ssd_mobilenetv1_controls', '#tiny_face_detector_controls', '#mtcnn_controls']\n    .forEach(id => $(id).hide())\n  console.log(\"tt\")\n  selectedFaceDetector = detector\n  const faceDetectorSelect = $('#selectFaceDetector')\n  faceDetectorSelect.val(detector)\n  faceDetectorSelect.material_select()\n\n  $('#loader').show()\n  if (!isFaceDetectionModelLoaded()) {\n    await getCurrentFaceDetectionNet().load('/models')\n  }\n\n  $(`#${detector}_controls`).show()\n  $('#loader').hide()\n}\n\nasync function onSelectedFaceDetectorChanged(e) {\n  selectedFaceDetector = e.target.value\n\n  await changeFaceDetector(e.target.value)\n  updateResults()\n}\n\nfunction initFaceDetectionControls() {\n  const faceDetectorSelect = $('#selectFaceDetector')\n  faceDetectorSelect.val(selectedFaceDetector)\n  faceDetectorSelect.on('change', onSelectedFaceDetectorChanged)\n  faceDetectorSelect.material_select()\n\n  const inputSizeSelect = $('#inputSize')\n  inputSizeSelect.val(inputSize)\n  inputSizeSelect.on('change', onInputSizeChanged)\n  inputSizeSelect.material_select()\n}\n\nexport{\n  initFaceDetectionControls as initFaceDetectionControls,\n  isFaceDetectionModelLoaded as isFaceDetectionModelLoaded,\n  getFaceDetectorOptions as getFaceDetectorOptions,\n  changeFaceDetector as changeFaceDetector\n}"]}]}